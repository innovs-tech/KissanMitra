# Production profile configuration for ECS Fargate deployment
# All sensitive values are loaded from environment variables or AWS Parameter Store

spring.application.name=KissanMitra

# ========== SERVER ==========
server.port=8080

# ========== MONGO DATABASE ==========
# MongoDB URI from environment variable (set via ECS task definition)
spring.data.mongodb.uri=${SPRING_DATA_MONGODB_URI}
spring.data.mongodb.database=kissanmitra
spring.data.mongodb.auto-index-creation=true

# ========== REDIS (ElastiCache) ==========
spring.data.redis.enabled=true
spring.data.redis.host=${SPRING_DATA_REDIS_HOST}
spring.data.redis.port=${SPRING_DATA_REDIS_PORT:6379}
spring.data.redis.timeout=60000

# ========== TWILIO SMS ==========
twilio.accountSid=${TWILIO_ACCOUNT_SID}
twilio.authToken=${TWILIO_AUTH_TOKEN}
twilio.fromNumber=${TWILIO_FROM_NUMBER}

# ========== JWT ==========
jwt.secret=${JWT_SECRET}
jwt.expiration=86400000

# ========== ACTUATOR ==========
# Enable health endpoint for ALB health checks
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized
management.health.redis.enabled=true
management.health.mongo.enabled=true

# ========== LOGGING ==========
logging.level.org.springframework=INFO
logging.level.com.kissanmitra=INFO
spring.jmx.enabled=false

# CloudWatch logging configuration
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

